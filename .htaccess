RewriteEngine On

# Remove .php extension
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.php [NC,L]


# Redirect index.php to root and update the URL
RewriteCond %{THE_REQUEST} /index\.php [NC]
RewriteRule ^index\.php$ / [R=301,L]

# Redirect from non-www to www
RewriteEngine On
RewriteCond %{HTTP_HOST} ^sarl\.co.ke [NC]
RewriteRule ^(.*)$ https://www.sarl.co.ke/$1 [L,R=301]


# Remove .php extension from URL, except for specific files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !^/processes\.php$ [NC]
RewriteCond %{REQUEST_URI} !^/processes$ [NC]
RewriteRule ^([a-zA-Z0-9_-]+)$ $1.php [L]


# Optional: Redirect .php URLs to clean URLs (SEO-friendly), except processes.php
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteCond %{REQUEST_URI} !^/processes\.php$ [NC]
RewriteRule ^ %1 [R=301,L]


